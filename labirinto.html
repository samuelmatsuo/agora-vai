<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styleLabirinto.css">
    <title>Labirinto</title>
</head>
<body>
    <div class="maze">
        <div class="wall" style="top: 0; left: 80px;"></div>
        <div class="wall" style="top: 20px; left: 80px;"></div>
        <div class="wall" style="top: 40px; left: 80px;"></div>
        <div class="wall" style="top: 60px; left: 80px;"></div>
        <div class="wall" style="top: 80px; left: 80px;"></div>
        <div class="wall" style="top: 100px; left: 80px;"></div>
        <div class="wall" style="top: 120px; left: 80px;"></div>
        <div class="wall" style="top: 140px; left: 80px;"></div>
        <div class="wall" style="top: 160px; left: 80px;"></div>
        <div class="wall" style="top: 180px; left: 80px;"></div>
        <div class="wall" style="top: 200px; left: 80px;"></div>
        <div class="wall" style="top: 220px; left: 80px;"></div>
        <div class="wall" style="top: 240px; left: 80px;"></div>
        <div class="wall" style="top: 260px; left: 80px;"></div>
        <div class="wall" style="top: 280px; left: 80px;"></div>
        <div class="wall" style="top: 300px; left: 80px;"></div>
        <div class="wall" style="top: 340px; left: 80px;"></div>        
        <div class="wall" style="top: 360px; left: 80px;"></div>        
        <div class="wall" style="top: 380px; left: 80px;"></div>        
        <div class="wall" style="top: 400px; left: 80px;"></div>        
        <div class="wall" style="top: 400px; left: 60px;"></div>        
        <div class="wall" style="top: 400px; left: 40px;"></div>        
        <div class="wall" style="top: 400px; left: 20px;"></div>        
        <div class="wall" style="top: 400px; left: 0px;"></div>        

        <div class="wall" style="top: 440px; left: 460px;"></div>
        <div class="wall" style="top: 460px; left: 460px;"></div>
        <div class="wall" style="top: 480px; left: 460px;"></div>
        <div class="wall" style="top: 440px; left: 460px;"></div>
        <div class="wall" style="top: 460px; left: 460px;"></div>
        <div class="wall" style="top: 480px; left: 460px;"></div>
        <div class="start" style="top: 0; left: 0;"></div>
        <div class="end" style="top: 460px; left: 480px;"></div>
        <div class="player"></div>
        <script>
            const player = document.querySelector('.player');
            const walls = document.querySelectorAll('.wall');
            const maze = document.querySelector('.maze');
            
            let isGameOver = false;
            
            document.addEventListener('keydown', (event) => {
              if (isGameOver) {
                return;
              }
              
              const key = event.key;
              let top = parseInt(player.style.top) || 0;
              let left = parseInt(player.style.left) || 0;
              
              if (key === 'ArrowUp') {
                top -= 20;
                player.classList.add('move-up');
              } else if (key === 'ArrowDown') {
                top += 20;
                player.classList.add('move-down');
              } else if (key === 'ArrowLeft') {
                left -= 20;
                player.classList.add('move-left');
              } else if (key === 'ArrowRight') {
                left += 20;
                player.classList.add('move-right');
              }
              
              if (isCollision(top, left)) {
                gameOver();
              } else {
                player.style.top = top + 'px';
                player.style.left = left + 'px';
              }
              
              if (isWin()) {
                win();
              }
            });
            
            function isCollision(top, left) {
              for (let i = 0; i < walls.length; i++) {
                const wall = walls[i];
                
                if (top === parseInt(wall.style.top) && left === parseInt(wall.style.left)) {
                  return true;
                }
              }
              
              return false;
            }
            
            function isWin() {
              const end = document.querySelector('.end');
              return parseInt(player.style.top) === parseInt(end.style.top) && parseInt(player.style.left) === parseInt(end.style.left);
            }
            
            function gameOver() {
              isGameOver = true;
              alert('Game Over');
              reset();
            }
            
            function win() {
              isGameOver = true;
              alert('You win!');
              reset();
            }
            
            function reset() {
              player.style.top = '0';
              player.style.left = '0';
              isGameOver = false;
            }
          </script>
</body>
</html>